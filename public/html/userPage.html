<!DOCTYPE html>
<html ng-app="grumMod">
	<head>
		<title>Grumr</title>
		<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap.min.css">
		<link rel="stylesheet" type="text/css" href="../css/userPage.css">
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.1/jquery.min.js"></script>
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/js/bootstrap.min.js"></script>
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.0/angular.min.js"></script>
	</head>
	<body ng-controller="grumController">
		<nav class="navbar navbar-inverse navbar-fixed-top">
		  <div class="container-fluid">
		    <!-- Brand and toggle get grouped for better mobile display -->
		    <div class="navbar-header">
		      <a class="navbar-brand" href="/">Gr&uumlmr</a>
		    </div>

		    <!-- Collect the nav links, forms, and other content for toggling -->
		    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
		      <ul class="nav navbar-nav">
		        <li><a href="/">Back Home</a></li>
		      </ul>
		      <ul class="nav navbar-nav navbar-right">
		        <li><a href="/logout">Log Out</a></li>
		      </ul>
		    </div><!-- /.navbar-collapse -->
		  </div><!-- /.container-fluid -->
		</nav>
		<div class="container-fluid">
			<div class="row header">
				<div class="col-xs-6">
					<h1 class="headerText">Hello {{user.name}}!</h1>
					<h3 class="headerText">Your Information: <ul>
						<li class="headerText"><h4>Email: {{user.email}}</h4></li>
						<li class="headerText"><h4>Phone Number: {{user.phone}}</h4></li>
						</ul>
					</h3>
					<h3 class="headerText">Your Dogs: </h3>
					<ul>
						<li ng-repeat="dog in dogs" class="headerText">{{dog.name}} - {{dog.breed}}</li>
					</ul>


					<button class="btn btn-default" data-toggle="modal" data-target="#addDogModal">Add a Dog</button>
					<div class="modal fade" id="addDogModal" tabindex="-1" role="dialog" aria-labelledby="addDogModalLabel">
					  <div class="modal-dialog" role="document">
					    <div class="modal-content">
					      <div class="modal-header">
					        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
					        <h4 class="modal-title" id="addDogModalLabel">Add New Dog</h4>
					      </div>
					      <div class="modal-body">
					      	<form ng-submit="createDog()">
					      	  <div class="form-group">
					      	    <label for="inputDogName">Dog Name</label>
					      	    <input type="text" class="form-control" id="inputDogName" placeholder="Dog Name" ng-model="newDog.name">
					      	  </div>
					      	  <div class="form-group">
					      	  	<label for="inputBreed">Breed</label>
					      	  	<select ng-options="dog as dog.breed for dog in breeds" ng-model="newDog.breed"></select>
					      	  </div>
					      	  <div class="form-group">
					      	  	<label for="dogWeight">Weight</label>
					      	  	<select ng-options="weight.value as weight.weight for weight in weights" ng-model="newDog.weightClass">
					      	  	</select>
					      	  </div>
					      	  <div class="form-group">
					      	    <label for="inputFile">Rabies Info</label>
					      	    <input type="file" id="inputFile" ng-model="newDog.rabies">
					      	    <p class="help-block">Note: Rabies Info must be presented to groomer if not uploaded here.</p>
					      	  </div>
					      	  <button type="submit" class="btn btn-default">Add Dog</button>
					      	</form>
					      </div>
					      <div class="modal-footer">
					        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
					      </div>
					    </div>
					  </div>
					</div>
				</div>
				<div class="col-xs-6">
					<h1 class="logoText">Gr&uumlmr</h1>
					<img src="../images/snowballEdit03.png" class="logo">
				</div>
			</div>
			<div class="row">
				<div class="col-xs-12">
					<h1>Schedule Your Appointment Below!</h1>
				</div>
				<div class="col-xs-12">
					<form ng-submit="showSchedule()">
						<div class="form-group">
							<label>Who's the Appointment For?</label>
							<select ng-options="dog as dog.name for dog in dogs" ng-model="appointment.dog"></select>
						</div>
						<div class="form-group">
							<label>Where would you like to go?</label>
							<select ng-options="salon as salon.name for salon in salons" ng-model="appointment.salon"></select>
						</div>
						<button type="submit" ng-hide="showSched">submit</button>
					</form>
					<form ng-submit="showAppointment(appointment)">	
						<div class="form-group" ng-show="showSched">
							<label>What service would you like?</label>
							<select ng-options="service as service.name for service in services" ng-model="appointment.service"></select>
						</div>	
						<button class="btn btn-default" ng-show="checkAvail">Check Availability</button>
					</form>
				</div>
			</div>
			<div class="row">
				<div class="col-xs-12" ng-show="appointmentConfirm">
					<h2>Appointment Info: </h2>
					<ul>
						<li>{{appointment.dog.name}}</li>
						<li>{{appointment.salon.name}}</li>
						<li>{{appointment.service.name}}</li>
						<li>{{appointment.service.price[0][appointment.dog.weightClass] | currency}}</li>
						<li>{{appointment.service.time[0][appointment.dog.weightClass]}} minutes</li>
					</ul>
					<h2>Groomer Schedules</h2>
				</div>
				<div class="col-xs-12" ng-show="appointmentConfirm" ng-repeat="groomer in groomers">
					<h4>{{groomer.name}}</h4>
					<ul ng-repeat="day in groomer.schedule">{{day.day}}
						<li ng-repeat="time in day.schedule">{{time.time}}<button ng-show="showbutton">Schedule</button></li>

					</ul>

				</div>
				
			</div>
		</div>
		<script type="text/javascript" src="../js/homeModule.js"></script>
		<script type="text/javascript" src="../js/userPageController.js"></script>
		<script type="text/javascript" src="../js/breedFactory.js"></script>
	</body>



</html>